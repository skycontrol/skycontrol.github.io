[{"title":"EmmyLua","url":"/2025/11/12/EmmyLua/","content":"EmmyLua简介Lua 断点调试是指在 Lua 脚本执行过程中，可以像调试 C#、Java 那样，设置断点、单步执行、查看变量、调用栈等。常用的断点调试工具有EmmyLua，Decode等，本文主要介绍EmmyLua在不同编辑器场景的使用\n\nEmmyLua\n\n支持VSCode，IntelliJ IDEA，Rider等常用编辑器\n支持条件断点、单步调试、变量查看、堆栈追踪等\n适配Unity，UE，Cocos\n\ngithub组织主页：https://github.com/EmmyLua官方文档：https://emmylua.github.io/zh_CN/VSCode插件页面：https://marketplace.visualstudio.com/items?itemName=tangzx.emmyluaIDEA插件页面：https://plugins.jetbrains.com/plugin/9768-emmyluaEmmylua原理简介：https://blog.csdn.net/qq_33060405/article/details/147405129\nVSCode 使用安装在线安装\nVSCode市场的更新相对较快，可以直接搜索安装VSCode→Extensions→搜索EmmyLua安装\n访问 https://marketplace.visualstudio.com/items?itemName=tangzx.emmylua 插件网页安装\n离线安装\ngithub上的Realease发布比较慢，因此推荐用上面的在线安装方式访问 https://github.com/EmmyLua/VSCode-EmmyLua/releases 下载 vsix 插件VSCode-&gt;Extensions-&gt;…→Install from VSIX\n\n调试器设置安装完EmmyLua之后，左侧菜单栏会出现Run and Debug栏\n选中之后，默认没有配置文件，选择新增配置文件，搜索栏出现选项框，选择EmmyLua New Debugger\n\n修改对应配置，可以参考如下，这里加了三种配置\n&#123;    &quot;version&quot;: &quot;0.2.0&quot;,    &quot;configurations&quot;: [        &#123;            &quot;type&quot;: &quot;emmylua_new&quot;,            &quot;request&quot;: &quot;launch&quot;,            &quot;name&quot;: &quot;IDE Connect Debugger&quot;,            &quot;host&quot;: &quot;localhost&quot;,            &quot;port&quot;: 9966,            &quot;ext&quot;: [                &quot;.lua&quot;,            ],            &quot;ideConnectDebugger&quot;: true,        &#125;,        &#123;            &quot;type&quot;: &quot;emmylua_new&quot;,            &quot;request&quot;: &quot;launch&quot;,            &quot;name&quot;: &quot;Debugger Connect IDE&quot;,            &quot;host&quot;: &quot;localhost&quot;,            &quot;port&quot;: 9966,            &quot;ext&quot;: [                &quot;.lua&quot;,            ],            &quot;ideConnectDebugger&quot;: false,        &#125;,        &#123;            &quot;type&quot;: &quot;emmylua_attach&quot;,            &quot;request&quot;: &quot;attach&quot;,            &quot;name&quot;: &quot;Attach by process id&quot;,            &quot;pid&quot;: pid,            &quot;processName&quot;: &quot;&quot;        &#125;,    ]&#125;\n\n开始调试\n\n\n方式\nIDE Connect Debugger\nDebugger Connect IDE\nAttach By Process id\n\n\n\n简介\nIDE去连接Debugger，先运行Editor或游戏，让Debugger开始监听本地对应端口，之后让IDE去连接对应端口来建立连接\nDebugger主动去连接IDE，先打开IDE的调试，让Debugger主动去连接IDE所监听的端口来建立连接\n采用Attach的方式进行附加\n\n\n调试器\n下拉选择对应的调试器\n\n通过任务管理器，修改pid配置\n\n\n-- IDE Connect Debugger-- 在main.lua 开始位置插入如下代码-- dll 路径需要替换为自己安装路径package.cpath = package.cpath .. &quot;;c:/Users/&#123;UserName&#125;/.vscode/extensions/tangzx.emmylua-0.9.31-win32-x64/debugger/emmy/windows/x64/?.dll&quot;local dbg = require(&quot;emmy_core&quot;)dbg.tcpListen(&#x27;localhost&#x27;, 9966)-- 可选的，勾选后会在此暂停，直至IDE连接-- dbg.waitIDE()\n\n-- Debugger Connect IDE-- 在main.lua 开始位置插入如下代码-- 对应路径要替换为安装路径package.cpath = package.cpath .. &quot;;c:/Users/&#123;UserName&#125;/.vscode/extensions/tangzx.emmylua-0.9.31-win32-x64/debugger/emmy/windows/x64/?.dll&quot;local dbg = require(&quot;emmy_core&quot;)dbg.tcpConnect(&quot;localhost&quot;, 9966)-- 直接用这个代码的话，在启动时候可能会出现如下阻断，原因是还没有成功连接上对应端口-- 在我们实际开发过程中，不是都需要启动IDE的，因此，可以用xpcall对这部分进行包裹来保证游戏顺利启动xpcall(function ()package.cpath = package.cpath .. &quot;;c:/Users/&#123;UserName&#125;/.vscode/extensions/tangzx.emmylua-0.9.31-win32-x64/debugger/emmy/windows/x64/?.dll&quot;local dbg = require(&quot;emmy_core&quot;)dbg.tcpConnect(&quot;localhost&quot;, 9966)end, function(err)end)\n\n-- Attach By Process id-- 采用Attach方式，不需要代码注入\n\n断点方式点击行号左侧（或者选中命令行 F9），右键Editor Breakpoint可以设置条件断点代码中添加 dbg.breakHere() 增加断点\nIDEA 使用安装IDEA-&gt;File-&gt;Setting\n\nJetBrain市场直接安装\nSettings-&gt;Plugins-&gt;搜索emmyLua，会显示当前ide所支持的版本\n离线安装\n前往https://github.com/EmmyLua/IntelliJ-EmmyLua/releases下载对应版本插件Settings-&gt;Plugins-&gt;中央小齿轮→Install Plugins from Disk选中对应目录本地文件安装\n\n调试配置Project中将对应路径设置为SourceRoot\n\n调试准备Run-&gt;EditorConfigurations\n\nIdea安装默认左侧应该会有EmmyDebugger(New)的一个调试器如果没有的话可以点击左上角的小加号\n\n开始调试该方式通过注入的方式，有两种连接方式 Connection\nAttach的方式，在IDEA高版本中独立出来，作为单独一个插件EmmyLua Attach Debugger，已不再维护，IDEA 2023.3之后的版本无法正常安装（修改插件版本强制安装之后，IDEA不能适配所在行）\n最新的消息在官方q群里公布，得等 EmmyLua2和EmmyLua2 Attach Debugger 更新\n\n\n\n\n方式\nIDE connect Debugger\nDebugger connect IDE\n\n\n\n简介\nIDE去连接Debugger，先运行Editor或游戏，让Debugger开始监听本地对应端口，之后让IDE去连接对应端口来建立连接\nDebugger主动去连接IDE，先打开IDE的调试，让Debugger主动去连接IDE所监听的端口来建立连接\n\n\n调试器图示\nRun→EditorConfigurations\nRun→EditorConfigurations\n\n\nUnityEditor\n\n\n\n\n-- 在main.lua 开始位置插入如下代码-- 对应路径要替换为安装路径-- IDEA的代码可以在Debugger配置界面查看package.cpath = package.cpath .. &#x27;;C:/Users/&#123;UserName&#125;/AppData/Roaming/JetBrains/IdeaIC2023.1/plugins/EmmyLua/debugger/emmy/windows/x64/?.dll&#x27;local dbg = require(&#x27;emmy_core&#x27;)dbg.tcpListen(&#x27;localhost&#x27;, 9966)// 可选的，添加上之后，调试器会在此停止，直到IDE连接成功才会再执行-- dbg.waitIDE()\n\n-- 在main.lua 开始位置插入如下代码-- 对应路径要替换为安装路径-- IDEA的代码可以在Debugger配置界面查看package.cpath = package.cpath .. &#x27;;C:/Users/&#123;UserName&#125;/AppData/Roaming/JetBrains/IdeaIC2023.1/plugins/EmmyLua/debugger/emmy/windows/x64/?.dll&#x27;local dbg = require(&#x27;emmy_core&#x27;)dbg.tcpConnect(&#x27;localhost&#x27;, 9966)-- 在我们实际开发过程中，不是都需要启动IDE的，因此，可以用xpcall对这部分进行包裹来保证游戏顺利启动xpcall(function ()    package.cpath = package.cpath .. &#x27;;C:/Users/&#123;UserName&#125;/AppData/Roaming/JetBrains/IdeaIC2023.1/plugins/EmmyLua/debugger/emmy/windows/x64/?.dll&#x27;    local dbg = require(&#x27;emmy_core&#x27;)    dbg.tcpConnect(&#x27;localhost&#x27;, 9966)end, function(err)   end)\n\n断点方式点击对应区域设置断点（或者选中命令行 ctrl + F8），右键Editor可以设置条件断点Ctrl + Shift + F8 查看所有断点代码中添加 dbg.breakHere() 增加断点\n个人使用心得对于程序来说，我们项目很多都可以采用patch或者添加日志的的方式来查看数据但是在开发过程中，需要一定的额外操作才能查看信息，以及比较难处理时序相关的问题这个时候断点调试使用上就更为方便\n笔者个人在实际的开发过程中，习惯使用 Debugger connect IDE 的方式来进行调试优点在于IDE只需启用一次调试器，后续每次运行都会自动连接\n非注入调试 socket连接以上方法都才用了注入dll的方式来进行调试根据别的老师及官方文档介绍，也有非注入式，采用socket连接的方式来进行调试由于需要引入socket包，所以暂未在此详细介绍，感兴趣可以参考 https://emmylua.github.io/zh_CN/run/remote.html\n","tags":["Lua","EmmyLua"]},{"title":"Hexo 配置","url":"/2025/11/12/Hexo/","content":"煮豆燃豆萁前人经验建站建站：https://blog.fiveth.cc/p/bb32/图片配置：https://blog.csdn.net/mjh1667002013/article/details/129063378\n美化butterfly主题美化：https://butterfly.js.org/posts/4aa8abbe/\n","tags":["hexo"]}]